<!DOCTYPE html>
<html>
  <head>
    <title>photo list from raspi-tarou.</title>
    <link rel='stylesheet' href='/third_party/bootstrap/dist/css/bootstrap.min.css' />
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://fonts.googleapis.com/css?family=Baloo+Chettan" rel="stylesheet">
    <script language='javascript' src='/third_party/jquery/dist/jquery.min.js'></script>
    <script language='javascript' src='/third_party/bootstrap/dist/js/bootstrap.min.js'></script>
    <script language='javascript' src='/javascripts/photos.js'></script>
  </head>
  <body>
    <div class="taking nodisplay">
      <p class="message">
        taking a photo now.<br>
        wait a minutes...
      </p>
      <img src="/images/loading.svg" class="centering block" />
    </div>
    <main class="centering">
      <h1>photo list from raspi-tarou.</h1>
      <div class="buttons margin-outer">
        <a href="/photos/take/" class="btn btn-primary btn-lg take-a-photo">take a photo!!</a>
      </div>
      <div class="information margin-outer">
        <p class="bg-info info">found <strong><%= files.length %></strong> files.</p>
      </div>
      <table class="table table-hover files">
        <thead>
          <tr>
            <th>#</th>
            <th>name</th>
            <th>thumbnail</th>
            <th>timestamp</th>
          </tr>
        </thead>
        <tbody>
          <% let count = 1; %>
          <% files.forEach((file, key) => { %>
          <tr>
            <td><%= count %></td>
            <td><%= file.name %></td>
            <td class="thumb-cell">
              <a href="/photos/<%= file.name %>" >
                <img src="/photos/<%= file.name %>" class="img-thumbnail" />
              </a>
            </td>
            <td><%= file.timestamp.toLocaleString() %></td>
          </tr>
          <% count++; %>
          <% }); %>
        </tbody>
      </table>
    </main>
  </body>
</html>
